jobs:
  include:
    - stage: ios-beta
      # if: branch = develop AND type = push
      os: osx
      osx_image: xcode11.3
      language: node_js
      node_js:
        - lts/*
      before_install:
        - "./write-keys.sh"
      install:
        - git submodule update --init --recursive
        - yarn install --frozen-lockfile
        - cd app/ios/
        - pod install
        - cd ..
      install:
        - git submodule update --init --recursive
        - yarn install --frozen-lockfile
      script:
        - yarn ios:beta
env:
  global:
    - APP_NAME="Memex Mobile"
    - 'DEVELOPER_NAME="iPhone Distribution: WorldBrain UG (haftungsbeschr√§nkt)"'
    - PROFILE_NAME="travis"
